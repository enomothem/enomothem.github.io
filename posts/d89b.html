<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
    <meta name="keywords" content="VSFTPD的安装与配置, web安全,web攻防,blog,shell,linux,windows,Linux,Windows,物理,物理学,宇宙,反物质,字星河,博客,星河,Enomothem,enomothem,eonthem">
    <meta name="description" content="真正的改变只能发生在原则层面">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id=E3kdz0owTVy1iw7363-rng"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', 'E3kdz0owTVy1iw7363-rng');
</script>


    <title>VSFTPD的安装与配置 | 字星河</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="https://test1.jsdelivr.net/gh/enomothem/cdn@1.5.0/sources/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="https://test1.jsdelivr.net/gh/enomothem/cdn@1.5.0/sources/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="https://test1.jsdelivr.net/gh/enomothem/cdn@1.5.0/sources/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="https://test1.jsdelivr.net/gh/enomothem/cdn@1.5.0/sources/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="https://test1.jsdelivr.net/gh/enomothem/cdn@1.5.0/sources/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="https://test1.jsdelivr.net/gh/enomothem/cdn@1.5.2/sources/css/matery.css">
    <link rel="stylesheet" type="text/css" href="https://test1.jsdelivr.net/gh/enomothem/cdn@1.5.0/sources/css/my.css">

    <script src="https://test1.jsdelivr.net/gh/enomothem/cdn@1.5.0/sources/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.4.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style><!-- hexo-inject:begin --><!-- hexo-inject:end -->
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>




<body>

    

    <!-- hexo-inject:begin --><!-- hexo-inject:end --><header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">字星河</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>Home</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>Root</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>System</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>Time</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/navigate" class="waves-effect waves-light">
      
      <i class="fas fa-location-arrow" style="zoom: 0.6;"></i>
      
      <span>Getshellmap</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>Fingerheart</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/html" class="waves-effect waves-light">

      
      <i class="fas fa-location-arrow" style="zoom: 0.6;"></i>
      
      <span>Testing</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a target="_blank" rel="noopener" href="http://hs.enomothem.cn">
          
          <i class="fas fa-location-arrow" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>华圣影视</span>
        </a>
      </li>
      
      <li>
        <a target="_blank" rel="noopener" href="http://intra.enomothem.cn">
          
          <i class="fas fa-location-arrow" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>华圣人事</span>
        </a>
      </li>
      
      <li>
        <a target="_blank" rel="noopener" href="http://hs.enomothem.cn:8091">
          
          <i class="fas fa-bookmark" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>永恒知识库</span>
        </a>
      </li>
      
      <li>
        <a href="/js">
          
          <i class="fas fa-film" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Development</span>
        </a>
      </li>
      
      <li>
        <a href="/happy">
          
          <i class="fas fa-film" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Celebrate</span>
        </a>
      </li>
      
      <li>
        <a href="/kt">
          
          <span>空调房</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-heart" style="zoom: 0.6;"></i>
      
      <span>Enomothem</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">字星河</div>
        <div class="logo-desc">
            
            真正的改变只能发生在原则层面
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			Home
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			Root
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			System
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			Time
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/navigate" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-location-arrow"></i>
			
			Getshellmap
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			Fingerheart
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fas fa-location-arrow"></i>
			
			Testing
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul  style="background:  ;" >
              
                <li>

                  <a target="_blank" rel="noopener" href="http://hs.enomothem.cn " style="margin-left:75px">
				  
				   <i class="fa fas fa-location-arrow" style="position: absolute;left:50px" ></i>
			      
		          <span>华圣影视</span>
                  </a>
                </li>
              
                <li>

                  <a target="_blank" rel="noopener" href="http://intra.enomothem.cn " style="margin-left:75px">
				  
				   <i class="fa fas fa-location-arrow" style="position: absolute;left:50px" ></i>
			      
		          <span>华圣人事</span>
                  </a>
                </li>
              
                <li>

                  <a target="_blank" rel="noopener" href="http://hs.enomothem.cn:8091 " style="margin-left:75px">
				  
				   <i class="fa fas fa-bookmark" style="position: absolute;left:50px" ></i>
			      
		          <span>永恒知识库</span>
                  </a>
                </li>
              
                <li>

                  <a href="/js " style="margin-left:75px">
				  
				   <i class="fa fas fa-film" style="position: absolute;left:50px" ></i>
			      
		          <span>Development</span>
                  </a>
                </li>
              
                <li>

                  <a href="/happy " style="margin-left:75px">
				  
				   <i class="fa fas fa-film" style="position: absolute;left:50px" ></i>
			      
		          <span>Celebrate</span>
                  </a>
                </li>
              
                <li>

                  <a href="/kt " style="margin-left:75px">
				  
		          <span>空调房</span>
                  </a>
                </li>
              
            </ul>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-heart"></i>
			
			Enomothem
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/enomothem" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/enomothem" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    
<script src="https://test1.jsdelivr.net/gh/enomothem/cdn@1.5.0/sources/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('口令！Sent to:enomothem@outlook.com')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('https://test1.jsdelivr.net/gh/enomothem/cdn@1.5.0/sources/medias/featureimages/6.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">VSFTPD的安装与配置</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="https://test1.jsdelivr.net/gh/enomothem/cdn@1.5.0/sources/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/FTP/">
                                <span class="chip bg-color">FTP</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/Linux/" class="post-category">
                                Linux
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2021-03-03
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2021-03-10
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    4.8k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    28 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h2 id="Xx-VSFTPD"><a href="#Xx-VSFTPD" class="headerlink" title="Xx VSFTPD"></a>Xx VSFTPD</h2><p>The vsftpd package contains a very secure and very small FTP daemon. This is useful for serving files over a network.</p>
<blockquote>
<p>VSFTPD软件包兼安全与小巧集一身的FTP守护进程，这对于通用的网络来说很有用。</p>
</blockquote>
<p>This package is known to build and work properly using an LFS-10.1 platform.</p>
<blockquote>
<p>这个包可以使用LFS-10.1平台正常构建和工作。</p>
</blockquote>
<h2 id="Ax-VSFTPD安装与配置"><a href="#Ax-VSFTPD安装与配置" class="headerlink" title="Ax VSFTPD安装与配置"></a>Ax VSFTPD安装与配置</h2><p>安装 <code>apt-get install vsftpd</code></p>
<p>开启服务 <code>service vsftpd start</code></p>
<p>核心配置文件 <code>vim /etc/vsftpd.conf</code></p>
<p>用户文件  <code>vim /etc/ftpusers</code></p>
<p>核心文件</p>
<pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># Example config file /etc/vsftpd.conf</span>
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># The default compiled in settings are fairly paranoid. This sample file</span>
<span class="token comment" spellcheck="true"># loosens things up a bit, to make the ftp daemon（守护进程） more usable.</span>
<span class="token comment" spellcheck="true"># Please see vsftpd.conf.5 for all compiled in defaults.</span>
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># READ THIS: This example file is NOT an exhaustive list of vsftpd options.</span>
<span class="token comment" spellcheck="true"># Please read the vsftpd.conf.5 manual page to get a full idea of vsftpd's</span>
<span class="token comment" spellcheck="true"># capabilities.</span>
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># Run standalone?  vsftpd can run either from an inetd or as a standalone</span>
<span class="token comment" spellcheck="true"># daemon started from an initscript.</span>
listen<span class="token operator">=</span>NO
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># This directive enables listening on IPv6 sockets. By default, listening</span>
<span class="token comment" spellcheck="true"># on the IPv6 "any" address (::) will accept connections from both IPv6</span>
<span class="token comment" spellcheck="true"># and IPv4 clients. It is not necessary to listen on *both* IPv4 and IPv6</span>
<span class="token comment" spellcheck="true"># sockets. If you want that (perhaps because you want to listen on specific</span>
<span class="token comment" spellcheck="true"># addresses) then you must run two copies of vsftpd with two configuration</span>
<span class="token comment" spellcheck="true"># files.</span>
listen_ipv6<span class="token operator">=</span>YES
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># Allow anonymous FTP? (Disabled by default).</span>
<span class="token comment" spellcheck="true"># |---匿名登入FTP，默认关闭，确实，关闭安全一点</span>
anonymous_enable<span class="token operator">=</span>NO
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># Uncomment this to allow local users to log in.</span>
<span class="token comment" spellcheck="true"># |---本地登入</span>
local_enable<span class="token operator">=</span>YES
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># Uncomment this to enable any form of FTP write command.</span>
<span class="token comment" spellcheck="true"># |---任何形式的FTP写入命令</span>
write_enable<span class="token operator">=</span>YES
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># Default umask for local users is 077. You may wish to change this to 022,</span>
<span class="token comment" spellcheck="true"># if your users expect that (022 is used by most other ftpd's)</span>
<span class="token comment" spellcheck="true"># |---本地是077，如果想改成022，打开</span>
<span class="token comment" spellcheck="true">#local_umask=022</span>
<span class="token comment" spellcheck="true"># 这个022是权限的一种写法，umask意思是禁止使用某种权限。</span>
<span class="token comment" spellcheck="true"># 022 ----w--w- 077 ---rwxrwx</span>
<span class="token comment" spellcheck="true"># 那么反过来可以执行的权限为 rwxr-xr-x rwx------ 022表示上传文件所具有的权限</span>
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># Uncomment this to allow the anonymous FTP user to upload files. This only</span>
<span class="token comment" spellcheck="true"># has an effect if the above global write enable is activated. Also, you will</span>
<span class="token comment" spellcheck="true"># obviously need to create a directory writable by the FTP user.</span>
<span class="token comment" spellcheck="true"># |---允许匿名用户上传</span>
anon_upload_enable<span class="token operator">=</span>YES
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># Uncomment this if you want the anonymous FTP user to be able to create</span>
<span class="token comment" spellcheck="true"># new directories.</span>
<span class="token comment" spellcheck="true"># |---允许匿名用户创建，写入</span>
anon_mkdir_write_enable<span class="token operator">=</span>YES
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># Activate directory messages - messages given to remote users when they</span>
<span class="token comment" spellcheck="true"># go into a certain directory.</span>
<span class="token comment" spellcheck="true"># |---#激活目录消息-当远程用户进入某个目录时给他们的消息。</span>
dirmessage_enable<span class="token operator">=</span>YES
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># If enabled, vsftpd will display directory listings with the time</span>
<span class="token comment" spellcheck="true"># in  your  local  time  zone.  The default is to display GMT. The</span>
<span class="token comment" spellcheck="true"># times returned by the MDTM FTP command are also affected by this</span>
<span class="token comment" spellcheck="true"># option.</span>
<span class="token comment" spellcheck="true"># |---显示本地时间吧</span>
use_localtime<span class="token operator">=</span>YES
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># Activate logging of uploads/downloads.</span>
<span class="token comment" spellcheck="true"># |--开启日志</span>
xferlog_enable<span class="token operator">=</span>YES
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># Make sure PORT transfer connections originate from port 20 (ftp-data).</span>
connect_from_port_20<span class="token operator">=</span>YES
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># If you want, you can arrange for uploaded anonymous files to be owned by</span>
<span class="token comment" spellcheck="true"># a different user. Note! Using "root" for uploaded files is not</span>
<span class="token comment" spellcheck="true"># recommended!</span>
<span class="token comment" spellcheck="true"># |---如果你愿意，你可以安排上传的匿名文件被拥有</span>
<span class="token comment" spellcheck="true">#不同的用户，不推荐使用root</span>
<span class="token comment" spellcheck="true">#chown_uploads=YES</span>
<span class="token comment" spellcheck="true">#chown_username=whoever</span>
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># You may override where the log file goes if you like. The default is shown</span>
<span class="token comment" spellcheck="true"># below.</span>
<span class="token comment" spellcheck="true"># |--- 日志的路径</span>
xferlog_file<span class="token operator">=</span>/var/log/vsftpd.log
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># If you want, you can have your log file in standard ftpd xferlog format.</span>
<span class="token comment" spellcheck="true"># Note that the default log file location is /var/log/xferlog in this case.</span>
<span class="token comment" spellcheck="true"># |---将日志文件设置为xferlog格式</span>
<span class="token comment" spellcheck="true">#xferlog_std_format=YES</span>
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># You may change the default value for timing out an idle session.</span>
<span class="token comment" spellcheck="true">#idle_session_timeout=600</span>
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># You may change the default value for timing out a data connection.</span>
<span class="token comment" spellcheck="true">#data_connection_timeout=120</span>
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># It is recommended that you define on your system a unique user which the</span>
<span class="token comment" spellcheck="true"># ftp server can use as a totally isolated and unprivileged user.</span>
<span class="token comment" spellcheck="true">#nopriv_user=ftpsecure</span>
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># Enable this and the server will recognise asynchronous ABOR requests. Not</span>
<span class="token comment" spellcheck="true"># recommended for security (the code is non-trivial). Not enabling it,</span>
<span class="token comment" spellcheck="true"># however, may confuse older FTP clients.</span>
<span class="token comment" spellcheck="true">#async_abor_enable=YES</span>
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># By default the server will pretend to allow ASCII mode but in fact ignore</span>
<span class="token comment" spellcheck="true"># the request. Turn on the below options to have the server actually do ASCII</span>
<span class="token comment" spellcheck="true"># mangling on files when in ASCII mode.</span>
<span class="token comment" spellcheck="true"># Beware that on some FTP servers, ASCII support allows a denial of service</span>
<span class="token comment" spellcheck="true"># attack (DoS) via the command "SIZE /big/file" in ASCII mode. vsftpd</span>
<span class="token comment" spellcheck="true"># predicted this attack and has always been safe, reporting the size of the</span>
<span class="token comment" spellcheck="true"># raw file.</span>
<span class="token comment" spellcheck="true"># ASCII mangling is a horrible feature of the protocol.</span>
<span class="token comment" spellcheck="true">#ascii_upload_enable=YES</span>
<span class="token comment" spellcheck="true">#ascii_download_enable=YES</span>
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># You may fully customise the login banner string:</span>
<span class="token comment" spellcheck="true">#ftpd_banner=Welcome to blah FTP service.</span>
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># You may specify a file of disallowed anonymous e-mail addresses. Apparently</span>
<span class="token comment" spellcheck="true"># useful for combatting certain DoS attacks.</span>
<span class="token comment" spellcheck="true">#deny_email_enable=YES</span>
<span class="token comment" spellcheck="true"># (default follows)</span>
<span class="token comment" spellcheck="true">#banned_email_file=/etc/vsftpd.banned_emails</span>
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># You may restrict local users to their home directories.  See the FAQ for</span>
<span class="token comment" spellcheck="true"># the possible risks in this before using chroot_local_user or</span>
<span class="token comment" spellcheck="true"># chroot_list_enable below.</span>
<span class="token comment" spellcheck="true">#chroot_local_user=YES</span>
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># You may specify an explicit list of local users to chroot() to their home</span>
<span class="token comment" spellcheck="true"># directory. If chroot_local_user is YES, then this list becomes a list of</span>
<span class="token comment" spellcheck="true"># users to NOT chroot().</span>
<span class="token comment" spellcheck="true"># (Warning! chroot'ing can be very dangerous. If using chroot, make sure that</span>
<span class="token comment" spellcheck="true"># the user does not have write access to the top level directory within the</span>
<span class="token comment" spellcheck="true"># chroot)</span>
<span class="token comment" spellcheck="true">#chroot_local_user=YES</span>
<span class="token comment" spellcheck="true">#chroot_list_enable=YES</span>
<span class="token comment" spellcheck="true"># (default follows)</span>
<span class="token comment" spellcheck="true">#chroot_list_file=/etc/vsftpd.chroot_list</span>
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># You may activate the "-R" option to the builtin ls. This is disabled by</span>
<span class="token comment" spellcheck="true"># default to avoid remote users being able to cause excessive I/O on large</span>
<span class="token comment" spellcheck="true"># sites. However, some broken FTP clients such as "ncftp" and "mirror" assume</span>
<span class="token comment" spellcheck="true"># the presence of the "-R" option, so there is a strong case for enabling it.</span>
<span class="token comment" spellcheck="true">#ls_recurse_enable=YES</span>
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># Customization</span>
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># Some of vsftpd's settings don't fit the filesystem layout by</span>
<span class="token comment" spellcheck="true"># default.</span>
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># This option should be the name of a directory which is empty.  Also, the</span>
<span class="token comment" spellcheck="true"># directory should not be writable by the ftp user. This directory is used</span>
<span class="token comment" spellcheck="true"># as a secure chroot() jail at times vsftpd does not require filesystem</span>
<span class="token comment" spellcheck="true"># access.</span>
secure_chroot_dir<span class="token operator">=</span>/var/run/vsftpd/empty
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># This string is the name of the PAM service vsftpd will use.</span>
pam_service_name<span class="token operator">=</span>vsftpd
<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># This option specifies the location of the RSA certificate to use for SSL</span>
<span class="token comment" spellcheck="true"># encrypted connections.</span>
rsa_cert_file<span class="token operator">=</span>/etc/ssl/certs/ssl-cert-snakeoil.pem
rsa_private_key_file<span class="token operator">=</span>/etc/ssl/private/ssl-cert-snakeoil.key
ssl_enable<span class="token operator">=</span>NO

<span class="token comment" spellcheck="true">#</span>
<span class="token comment" spellcheck="true"># Uncomment this to indicate that vsftpd use a utf8 filesystem.</span>
<span class="token comment" spellcheck="true"># |---使用utf8格式文件系统。</span>
utf8_filesystem<span class="token operator">=</span>YES
</code></pre>
<h2 id="Bx-FTP命令"><a href="#Bx-FTP命令" class="headerlink" title="Bx FTP命令"></a>Bx FTP命令</h2><pre class=" language-bash"><code class="language-bash">NAME
     <span class="token function">ftp</span> — Internet <span class="token function">file</span> transfer program

SYNOPSIS
     <span class="token function">ftp</span> <span class="token punctuation">[</span>-46pinegvd<span class="token punctuation">]</span> <span class="token punctuation">[</span>host <span class="token punctuation">[</span>port<span class="token punctuation">]</span><span class="token punctuation">]</span>
     pftp <span class="token punctuation">[</span>-46inegvd<span class="token punctuation">]</span> <span class="token punctuation">[</span>host <span class="token punctuation">[</span>port<span class="token punctuation">]</span><span class="token punctuation">]</span>

DESCRIPTION
     Ftp is the user interface to the Internet standard File Transfer Protocol.  The program allows a user to transfer files to and from a remote network site.

     Options may be specified at the <span class="token function">command</span> line, or to the <span class="token function">command</span> interpreter.

     -4    Use only IPv4 to contact any host.

     -6    Use IPv6 only.

     -p    Use passive mode <span class="token keyword">for</span> data transfers. Allows use of <span class="token function">ftp</span> <span class="token keyword">in</span> environments where a firewall prevents connections from the outside world back to the client machine. Requires that the <span class="token function">ftp</span> server
           support the PASV command. This is the default <span class="token keyword">if</span> invoked as pftp.

     -i    Turns off interactive prompting during multiple <span class="token function">file</span> transfers.

     -n    Restrains <span class="token function">ftp</span> from attempting “auto-login” upon initial connection.  If auto-login is enabled, <span class="token function">ftp</span> will check the .netrc <span class="token punctuation">(</span>see netrc<span class="token punctuation">(</span>5<span class="token punctuation">))</span> <span class="token function">file</span> <span class="token keyword">in</span> the user's home directory <span class="token keyword">for</span> an entry de‐
           scribing an account on the remote machine.  If no entry exists, <span class="token function">ftp</span> will prompt <span class="token keyword">for</span> the remote machine login name <span class="token punctuation">(</span>default is the user identity on the local machine<span class="token punctuation">)</span>, and, <span class="token keyword">if</span> necessary,
           prompt <span class="token keyword">for</span> a password and an account with <span class="token function">which</span> to login.

     -e    Disables <span class="token function">command</span> editing and <span class="token function">history</span> support, <span class="token keyword">if</span> it was compiled into the <span class="token function">ftp</span> executable. Otherwise, does nothing.

     -g    Disables <span class="token function">file</span> name globbing.

     -v    Verbose option forces <span class="token function">ftp</span> to show all responses from the remote server, as well as report on data transfer statistics.

     -d    Enables debugging.
</code></pre>
<pre class=" language-bash"><code class="language-bash"> The client host and an optional port number with <span class="token function">which</span> <span class="token function">ftp</span> is to communicate may be specified on the <span class="token function">command</span> line.  If this is done, <span class="token function">ftp</span> will immediately attempt to establish a connection to an
     FTP server on that host<span class="token punctuation">;</span> otherwise, <span class="token function">ftp</span> will enter its <span class="token function">command</span> interpreter and await instructions from the user.  When <span class="token function">ftp</span> is awaiting commands from the user the prompt ‘ftp<span class="token operator">></span>’ is provided to the
     user.  The following commands are recognized by ftp:

     <span class="token operator">!</span> <span class="token punctuation">[</span>command <span class="token punctuation">[</span>args<span class="token punctuation">]</span><span class="token punctuation">]</span>
                 Invoke an interactive shell on the local machine.  If there are arguments, the first is taken to be a <span class="token function">command</span> to execute directly, with the rest of the arguments as its arguments.

     $ macro-name <span class="token punctuation">[</span>args<span class="token punctuation">]</span>
                 Execute the macro macro-name that was defined with the macdef command.  Arguments are passed to the macro unglobbed.

     account <span class="token punctuation">[</span>passwd<span class="token punctuation">]</span>
                 Supply a supplemental password required by a remote system <span class="token keyword">for</span> access to resources once a login has been successfully completed.  If no argument is included, the user will be
                 prompted <span class="token keyword">for</span> an account password <span class="token keyword">in</span> a non-echoing input mode.

     append local-file <span class="token punctuation">[</span>remote-file<span class="token punctuation">]</span>
                 Append a local <span class="token function">file</span> to a <span class="token function">file</span> on the remote machine.  If remote-file is left unspecified, the local <span class="token function">file</span> name is used <span class="token keyword">in</span> naming the remote <span class="token function">file</span> after being altered by any ntrans or
                 nmap setting.  File transfer uses the current settings <span class="token keyword">for</span> type, format, mode, and structure.

     ascii       Set the <span class="token function">file</span> transfer <span class="token function">type</span> to network ASCII.  This is the default type.

     bell        Arrange that a bell be sounded after each <span class="token function">file</span> transfer <span class="token function">command</span> is completed.

     binary      Set the <span class="token function">file</span> transfer <span class="token function">type</span> to support binary image transfer.

     bye         Terminate the FTP session with the remote server and <span class="token keyword">exit</span> ftp.  An end of <span class="token function">file</span> will also terminate the session and exit.

     <span class="token keyword">case</span>        Toggle remote computer <span class="token function">file</span> name <span class="token keyword">case</span> mapping during mget commands.  When <span class="token keyword">case</span> is on <span class="token punctuation">(</span>default is off<span class="token punctuation">)</span>, remote computer <span class="token function">file</span> names with all letters <span class="token keyword">in</span> upper <span class="token keyword">case</span> are written <span class="token keyword">in</span> the
                 local directory with the letters mapped to lower case.

     <span class="token function">cd</span> remote-directory
                 Change the working directory on the remote machine to remote-directory.

     cdup        Change the remote machine working directory to the parent of the current remote machine working directory.

     <span class="token function">chmod</span> mode file-name
                 Change the permission modes of the <span class="token function">file</span> file-name on the remote system to mode.

     close       Terminate the FTP session with the remote server, and <span class="token keyword">return</span> to the <span class="token function">command</span> interpreter.  Any defined macros are erased.

     cr          Toggle carriage <span class="token keyword">return</span> stripping during ascii <span class="token function">type</span> <span class="token function">file</span> retrieval.  Records are denoted by a carriage return/linefeed sequence during ascii <span class="token function">type</span> <span class="token function">file</span> transfer.  When cr is on <span class="token punctuation">(</span>the
                 default<span class="token punctuation">)</span>, carriage returns are stripped from this sequence to conform with the UNIX single linefeed record delimiter.  Records on non-UNIX remote systems may contain single line‐
                 feeds<span class="token punctuation">;</span> when an ascii <span class="token function">type</span> transfer is made, these linefeeds may be distinguished from a record delimiter only when cr is off.

     qc          Toggle the printing of control characters <span class="token keyword">in</span> the output of ASCII <span class="token function">type</span> commands.  When this is turned on, control characters are replaced with a question mark <span class="token keyword">if</span> the output <span class="token function">file</span> is
                 the standard output.  This is the default when the standard output is a tty.

     delete remote-file
                 Delete the <span class="token function">file</span> remote-file on the remote machine.

     debug <span class="token punctuation">[</span>debug-value<span class="token punctuation">]</span>
                 Toggle debugging mode.  If an optional debug-value is specified it is used to <span class="token keyword">set</span> the debugging level.  When debugging is on, <span class="token function">ftp</span> prints each <span class="token function">command</span> sent to the remote machine, pre‐
                 ceded by the string ‘--<span class="token operator">></span>’

     <span class="token function">dir</span> <span class="token punctuation">[</span>remote-directory<span class="token punctuation">]</span> <span class="token punctuation">[</span>local-file<span class="token punctuation">]</span>
                 Print a listing of the directory contents <span class="token keyword">in</span> the directory, remote-directory, and, optionally, placing the output <span class="token keyword">in</span> local-file.  If interactive prompting is on, <span class="token function">ftp</span> will prompt the
                 user to verify that the last argument is indeed the target local <span class="token function">file</span> <span class="token keyword">for</span> receiving <span class="token function">dir</span> output.  If no directory is specified, the current working directory on the remote machine is
                 used.  If no local <span class="token function">file</span> is specified, or local-file is -, output comes to the terminal.

     disconnect  A synonym <span class="token keyword">for</span> close.

     form <span class="token function">format</span>
                 Set the <span class="token function">file</span> transfer form to format.  The default <span class="token function">format</span> is “file”.

     get remote-file <span class="token punctuation">[</span>local-file<span class="token punctuation">]</span>
                 Retrieve the remote-file and store it on the local machine.  If the local <span class="token function">file</span> name is not specified, it is given the same name it has on the remote machine, subject to alteration by
                 the current case, ntrans, and nmap settings.  The current settings <span class="token keyword">for</span> type, form, mode, and structure are used <span class="token keyword">while</span> transferring the file.

     glob        Toggle filename expansion <span class="token keyword">for</span> mdelete, mget and mput.  If globbing is turned off with glob, the <span class="token function">file</span> name arguments are taken literally and not expanded.  Globbing <span class="token keyword">for</span> mput is <span class="token keyword">done</span>
                 as <span class="token keyword">in</span> csh<span class="token punctuation">(</span>1<span class="token punctuation">)</span>.  For mdelete and mget, each remote <span class="token function">file</span> name is expanded separately on the remote machine and the lists are not merged.  Expansion of a directory name is likely to be
                 different from expansion of the name of an ordinary file: the exact result depends on the foreign operating system and <span class="token function">ftp</span> server, and can be previewed by doing ‘mls remote-files -’
                 Note: mget and mput are not meant to transfer entire directory subtrees of files.  That can be <span class="token keyword">done</span> by transferring a tar<span class="token punctuation">(</span>1<span class="token punctuation">)</span> archive of the subtree <span class="token punctuation">(</span>in binary mode<span class="token punctuation">)</span>.

     <span class="token function">hash</span> <span class="token punctuation">[</span>increment<span class="token punctuation">]</span>
                 Toggle hash-sign <span class="token punctuation">(</span>``<span class="token comment" spellcheck="true">#'') printing for each transferred data block, but only in the absence of an argument.  The size of a data block is set to 1024 bytes by default, but can be</span>
                 changed by the argument increment, <span class="token function">which</span> also accepts the suffixed multipliers <span class="token string">'k'</span> and <span class="token string">'K'</span> <span class="token keyword">for</span> kilobytes, <span class="token string">'m'</span> and <span class="token string">'M'</span> <span class="token keyword">for</span> Megabytes, and finally <span class="token string">'g'</span> and <span class="token string">'G'</span> <span class="token keyword">for</span> Gigabytes.  Setting a
                 size activates <span class="token function">hash</span> printing unconditionally.

     <span class="token function">help</span> <span class="token punctuation">[</span>command<span class="token punctuation">]</span>
                 Print an informative message about the meaning of command.  If no argument is given, <span class="token function">ftp</span> prints a list of the known commands.

     idle <span class="token punctuation">[</span>seconds<span class="token punctuation">]</span>
                 Set the inactivity timer on the remote server to seconds seconds.  If seconds is omitted, the current inactivity timer is printed.

     ipany       Allow the address resolver to <span class="token keyword">return</span> any address family.

     ipv4        Restrict the address resolver to <span class="token function">look</span> only <span class="token keyword">for</span> IPv4 addresses.

     ipv6        Restrict host adressing to IPv6 only.

     lcd <span class="token punctuation">[</span>directory<span class="token punctuation">]</span>
                 Change the working directory on the local machine.  If no directory is specified, the user<span class="token string">'s home directory is used.

     ls [remote-directory] [local-file]
                 Print a listing of the contents of a directory on the remote machine.  The listing includes any system-dependent information that the server chooses to include; for example, most
                 UNIX systems will produce output from the command ‘ls -l’.  (See also nlist.)  If remote-directory is left unspecified, the current working directory is used.  If interactive prompt‐
                 ing is on, ftp will prompt the user to verify that the last argument is indeed the target local file for receiving ls output.  If no local file is specified, or if local-file is ‘-’,
                 the output is sent to the terminal.

     macdef macro-name
                 Define a macro.  Subsequent lines are stored as the macro macro-name; a null line (consecutive newline characters in a file or carriage returns from the terminal) terminates macro
                 input mode.  There is a limit of 16 macros and 4096 total characters in all defined macros.  Macros remain defined until a close command is executed.  The macro processor interprets
                 `$'</span> and `\<span class="token string">' as special characters.  A `$'</span> followed by a number <span class="token punctuation">(</span>or numbers<span class="token punctuation">)</span> is replaced by the corresponding argument on the macro invocation <span class="token function">command</span> line.  A `$<span class="token string">' followed by an `i'</span>
                 signals that macro processor that the executing macro is to be looped.  On the first pass `<span class="token variable">$i</span><span class="token string">' is replaced by the first argument on the macro invocation command line, on the second
                 pass it is replaced by the second argument, and so on.  A <span class="token variable"><span class="token variable">`</span>\' followed by any character is replaced by that character.  Use the <span class="token variable">`</span></span>\' to prevent special treatment of the `$'</span><span class="token keyword">.</span>

     mdelete <span class="token punctuation">[</span>remote-files<span class="token punctuation">]</span>
                 Delete the remote-files on the remote machine.

     mdir remote-files local-file
                 Like dir, except multiple remote files may be specified.  If interactive prompting is on, <span class="token function">ftp</span> will prompt the user to verify that the last argument is indeed the target local <span class="token function">file</span>
                 <span class="token keyword">for</span> receiving mdir output.

     mget remote-files
                 Expand the remote-files on the remote machine and <span class="token keyword">do</span> a get <span class="token keyword">for</span> each <span class="token function">file</span> name thus produced.  See glob <span class="token keyword">for</span> details on the filename expansion.  Resulting <span class="token function">file</span> names will <span class="token keyword">then</span> be pro‐
                 cessed according to case, ntrans, and nmap settings.  Files are transferred into the local working directory, <span class="token function">which</span> can be changed with ‘lcd directory’<span class="token punctuation">;</span> new local directories can be
                 created with ‘<span class="token operator">!</span> <span class="token function">mkdir</span> directory’.

     <span class="token function">mkdir</span> directory-name
                 Make a directory on the remote machine.

     mls remote-files local-file
                 Like nlist, except multiple remote files may be specified, and the local-file must be specified.  If interactive prompting is on, <span class="token function">ftp</span> will prompt the user to verify that the last ar‐
                 gument is indeed the target local <span class="token function">file</span> <span class="token keyword">for</span> receiving mls output.

     mode <span class="token punctuation">[</span>mode-name<span class="token punctuation">]</span>
                 Set the <span class="token function">file</span> transfer mode to mode-name.  The default mode is “stream” mode.

     modtime file-name
                 Show the last modification <span class="token function">time</span> of the <span class="token function">file</span> on the remote machine.

     mput local-files
                 Expand wild cards <span class="token keyword">in</span> the list of local files given as arguments and <span class="token keyword">do</span> a put <span class="token keyword">for</span> each <span class="token function">file</span> <span class="token keyword">in</span> the resulting list.  See glob <span class="token keyword">for</span> details of filename expansion.  Resulting <span class="token function">file</span> names
                 will <span class="token keyword">then</span> be processed according to ntrans and nmap settings.

     newer file-name <span class="token punctuation">[</span>local-file<span class="token punctuation">]</span>
                 Get the <span class="token function">file</span> only <span class="token keyword">if</span> the modification <span class="token function">time</span> of the remote <span class="token function">file</span> is <span class="token function">more</span> recent that the <span class="token function">file</span> on the current system.  If the <span class="token function">file</span> does not exist on the current system, the remote <span class="token function">file</span>
                 is considered newer.  Otherwise, this <span class="token function">command</span> is identical to get.

     nlist <span class="token punctuation">[</span>remote-directory<span class="token punctuation">]</span> <span class="token punctuation">[</span>local-file<span class="token punctuation">]</span>
                 Print a  list of the files <span class="token keyword">in</span> a directory on the remote machine.  If remote-directory is left unspecified, the current working directory is used.  If interactive prompting is on, <span class="token function">ftp</span>
                 will prompt the user to verify that the last argument is indeed the target local <span class="token function">file</span> <span class="token keyword">for</span> receiving nlist output.  If no local <span class="token function">file</span> is specified, or <span class="token keyword">if</span> local-file is -, the output is
                 sent to the terminal.

     nmap <span class="token punctuation">[</span>inpattern outpattern<span class="token punctuation">]</span>
                 Set or unset the filename mapping mechanism.  If no arguments are specified, the filename mapping mechanism is unset.  If arguments are specified, remote filenames are mapped during
                 mput commands and put commands issued without a specified remote target filename.  If arguments are specified, local filenames are mapped during mget commands and get commands issued
                 without a specified local target filename.  This <span class="token function">command</span> is useful when connecting to a non-UNIX remote computer with different <span class="token function">file</span> naming conventions or practices.  The mapping
                 follows the pattern <span class="token keyword">set</span> by inpattern and outpattern.  <span class="token punctuation">[</span>Inpattern<span class="token punctuation">]</span> is a template <span class="token keyword">for</span> incoming filenames <span class="token punctuation">(</span>which may have already been processed according to the ntrans and <span class="token keyword">case</span> set‐
                 tings<span class="token punctuation">)</span>.  Variable templating is accomplished by including the sequences `<span class="token variable">$1</span><span class="token string">', `<span class="token variable">$2</span>'</span>, <span class="token punctuation">..</span>., `<span class="token variable">$9</span><span class="token string">' in inpattern.  Use <span class="token variable"><span class="token variable">`</span>\' to prevent this special treatment of the <span class="token variable">`</span></span>$'</span> character.  All
                 other characters are treated literally, and are used to determine the nmap <span class="token punctuation">[</span>inpattern<span class="token punctuation">]</span> variable values.  For example, given inpattern <span class="token variable">$1</span><span class="token keyword">.</span><span class="token variable">$2</span> and the remote <span class="token function">file</span> name <span class="token string">"mydata.data"</span>, <span class="token variable">$1</span>
                 would have the value <span class="token string">"mydata"</span>, and <span class="token variable">$2</span> would have the value <span class="token string">"data"</span><span class="token keyword">.</span>  The outpattern determines the resulting mapped filename.  The sequences `<span class="token variable">$1</span><span class="token string">', `<span class="token variable">$2</span>'</span>, <span class="token punctuation">..</span><span class="token punctuation">..</span>, `<span class="token variable">$9</span><span class="token string">' are replaced by any
                 value resulting from the inpattern template.  The sequence `<span class="token variable">$0</span>'</span> is replace by the original filename.  Additionally, the sequence ‘<span class="token punctuation">[</span>seq1, seq2<span class="token punctuation">]</span>’ is replaced by <span class="token punctuation">[</span>seq1<span class="token punctuation">]</span> <span class="token keyword">if</span> seq1 is not a
                 null string<span class="token punctuation">;</span> otherwise it is replaced by seq2.  For example, the <span class="token function">command</span>

                       nmap <span class="token variable">$1</span><span class="token keyword">.</span><span class="token variable">$2</span><span class="token keyword">.</span><span class="token variable">$3</span> <span class="token punctuation">[</span><span class="token variable">$1</span>,<span class="token variable">$2</span><span class="token punctuation">]</span>.<span class="token punctuation">[</span><span class="token variable">$2</span>,file<span class="token punctuation">]</span>

                 would yield the output filename <span class="token string">"myfile.data"</span> <span class="token keyword">for</span> input filenames <span class="token string">"myfile.data"</span> and <span class="token string">"myfile.data.old"</span>, <span class="token string">"myfile.file"</span> <span class="token keyword">for</span> the input filename <span class="token string">"myfile"</span>, and <span class="token string">"myfile.myfile"</span> <span class="token keyword">for</span> the in‐
                 put filename <span class="token string">".myfile"</span><span class="token keyword">.</span>  Spaces may be included <span class="token keyword">in</span> outpattern, as <span class="token keyword">in</span> the example: `nmap <span class="token variable">$1</span> <span class="token function">sed</span> <span class="token string">"s/  *$//"</span> <span class="token operator">></span> <span class="token variable">$1</span><span class="token string">' .  Use the <span class="token variable"><span class="token variable">`</span>\' character to prevent special treatment of the
                 <span class="token variable">`</span></span>$'</span>,<span class="token string">'['</span>,<span class="token string">'['</span>, and `,<span class="token string">' characters.

     ntrans [inchars [outchars]]
                 Set or unset the filename character translation mechanism.  If no arguments are specified, the filename character translation mechanism is unset.  If arguments are specified, charac‐
                 ters in remote filenames are translated during mput commands and put commands issued without a specified remote target filename.  If arguments are specified, characters in local
                 filenames are translated during mget commands and get commands issued without a specified local target filename.  This command is useful when connecting to a non-UNIX remote computer
                 with different file naming conventions or practices.  Characters in a filename matching a character in inchars are replaced with the corresponding character in outchars.  If the
                 character'</span>s position <span class="token keyword">in</span> inchars is longer than the length of outchars, the character is deleted from the <span class="token function">file</span> name.

     <span class="token function">open</span> host <span class="token punctuation">[</span>port<span class="token punctuation">]</span>
                 Establish a connection to the specified host FTP server.  An optional port number may be supplied, <span class="token keyword">in</span> <span class="token function">which</span> case, <span class="token function">ftp</span> will attempt to contact an FTP server at that port.  If the
                 auto-login option is on <span class="token punctuation">(</span>default<span class="token punctuation">)</span>, <span class="token function">ftp</span> will also attempt to automatically log the user <span class="token keyword">in</span> to the FTP server <span class="token punctuation">(</span>see below<span class="token punctuation">)</span>.

     prompt      Toggle interactive prompting.  Interactive prompting occurs during multiple <span class="token function">file</span> transfers to allow the user to selectively retrieve or store files.  If prompting is turned off <span class="token punctuation">(</span>de‐
                 fault is on<span class="token punctuation">)</span>, any mget or mput will transfer all files, and any mdelete will delete all files.

     proxy ftp-command
                 Execute an <span class="token function">ftp</span> <span class="token function">command</span> on a secondary control connection.  This <span class="token function">command</span> allows simultaneous connection to two remote <span class="token function">ftp</span> servers <span class="token keyword">for</span> transferring files between the two servers.  The
                 first proxy <span class="token function">command</span> should be an open, to establish the secondary control connection.  Enter the <span class="token function">command</span> <span class="token string">"proxy ?"</span> to see other <span class="token function">ftp</span> commands executable on the secondary connection.
                 The following commands behave differently when prefaced by proxy: <span class="token function">open</span> will not define new macros during the auto-login process, close will not erase existing macro definitions, get
                 and mget transfer files from the host on the primary control connection to the host on the secondary control connection, and put, mput, and append transfer files from the host on the
                 secondary control connection to the host on the primary control connection.  Third party <span class="token function">file</span> transfers depend upon support of the <span class="token function">ftp</span> protocol PASV <span class="token function">command</span> by the server on the sec‐
                 ondary control connection.

     put local-file <span class="token punctuation">[</span>remote-file<span class="token punctuation">]</span>
                 Store a local <span class="token function">file</span> on the remote machine.  If remote-file is left unspecified, the local <span class="token function">file</span> name is used after processing according to any ntrans or nmap settings <span class="token keyword">in</span> naming the re‐
                 mote file.  File transfer uses the current settings <span class="token keyword">for</span> type, format, mode, and structure.

     <span class="token function">pwd</span>         Print the name of the current working directory on the remote machine.

     quit        A synonym <span class="token keyword">for</span> bye.

     quote arg1 arg2 <span class="token punctuation">..</span>.
                 The arguments specified are sent, verbatim, to the remote FTP server.

     recv remote-file <span class="token punctuation">[</span>local-file<span class="token punctuation">]</span>
                 A synonym <span class="token keyword">for</span> get.

     reget remote-file <span class="token punctuation">[</span>local-file<span class="token punctuation">]</span>
                 Reget acts like get, except that <span class="token keyword">if</span> local-file exists and is smaller than remote-file, local-file is presumed to be a partially transferred copy of remote-file and the transfer is
                 continued from the apparent point of failure.  If local-file does not exist <span class="token function">ftp</span> won<span class="token string">'t fetch the file.  This command is useful when transferring very large files over networks that
                 are prone to dropping connections.

     remotehelp [command-name]
                 Request help from the remote FTP server.  If a command-name is specified it is supplied to the server as well.

     remotestatus [file-name]
                 With no arguments, show status of remote machine.  If file-name is specified, show status of file-name on remote machine.

     rename [from] [to]
                 Rename the file from on the remote machine, to the file to.

     reset       Clear reply queue.  This command re-synchronizes command/reply sequencing with the remote ftp server.  Resynchronization may be necessary following a violation of the ftp protocol by
                 the remote server.

     restart marker
                 Restart the immediately following get or put at the indicated marker.  On UNIX systems, marker is usually a byte offset into the file.

     rmdir directory-name
                 Delete a directory on the remote machine.

     runique     Toggle storing of files on the local system with unique filenames.  If a file already exists with a name equal to the target local filename for a get or mget command, a ".1" is ap‐
                 pended to the name.  If the resulting name matches another existing file, a ".2" is appended to the original name.  If this process continues up to ".99", an error message is
                 printed, and the transfer does not take place.  The generated unique filename will be reported.  Note that runique will not affect local files generated from a shell command (see be‐
                 low).  The default value is off.

     send local-file [remote-file]
                 A synonym for put.

     sendport    Toggle the use of PORT commands.  By default, ftp will attempt to use a PORT command when establishing a connection for each data transfer.  The use of PORT commands can prevent de‐
                 lays when performing multiple file transfers.  If the PORT command fails, ftp will use the default data port.  When the use of PORT commands is disabled, no attempt will be made to
                 use PORT commands for each data transfer.  This is useful for certain FTP implementations which do ignore PORT commands but, incorrectly, indicate they'</span>ve been accepted.

     site arg1 arg2 <span class="token punctuation">..</span>.
                 The arguments specified are sent, verbatim, to the remote FTP server as a SITE command.

     size file-name
                 Return size of file-name on remote machine.

     status      Show the current status of ftp.

     struct <span class="token punctuation">[</span>struct-name<span class="token punctuation">]</span>
                 Set the <span class="token function">file</span> transfer structure to struct-name.  By default “stream” structure is used.

     sunique     Toggle storing of files on remote machine under unique <span class="token function">file</span> names.  Remote <span class="token function">ftp</span> server must support <span class="token function">ftp</span> protocol STOU <span class="token function">command</span> <span class="token keyword">for</span> successful completion.  The remote server will report
                 unique name.  Default value is off.

     system      Show the <span class="token function">type</span> of operating system running on the remote machine.

     tenex       Set the <span class="token function">file</span> transfer <span class="token function">type</span> to that needed to talk to TENEX machines.

     trace       Toggle packet tracing.

     <span class="token function">type</span> <span class="token punctuation">[</span>type-name<span class="token punctuation">]</span>
                 Set the <span class="token function">file</span> transfer <span class="token function">type</span> to type-name.  If no <span class="token function">type</span> is specified, the current <span class="token function">type</span> is printed.  The default <span class="token function">type</span> is network ASCII.

     <span class="token function">umask</span> <span class="token punctuation">[</span>newmask<span class="token punctuation">]</span>
                 Set the default <span class="token function">umask</span> on the remote server to newmask.  If newmask is omitted, the current <span class="token function">umask</span> is printed.

     user user-name <span class="token punctuation">[</span>password<span class="token punctuation">]</span> <span class="token punctuation">[</span>account<span class="token punctuation">]</span>
                 Identify yourself to the remote FTP server.  If the password is not specified and the server requires it, <span class="token function">ftp</span> will prompt the user <span class="token keyword">for</span> it <span class="token punctuation">(</span>after disabling local echo<span class="token punctuation">)</span>.  If an account
                 field is not specified, and the FTP server requires it, the user will be prompted <span class="token keyword">for</span> it.  If an account field is specified, an account <span class="token function">command</span> will be relayed to the remote server
                 after the login sequence is completed <span class="token keyword">if</span> the remote server did not require it <span class="token keyword">for</span> logging in.  Unless <span class="token function">ftp</span> is invoked with “auto-login” disabled, this process is <span class="token keyword">done</span> automatically on
                 initial connection to the FTP server.

     verbose     Toggle verbose mode.  In verbose mode, all responses from the FTP server are displayed to the user.  In addition, <span class="token keyword">if</span> verbose is on, when a <span class="token function">file</span> transfer completes, statistics regard‐
                 ing the efficiency of the transfer are reported.  By default, verbose is on.

     ? <span class="token punctuation">[</span>command<span class="token punctuation">]</span>
                 A synonym <span class="token keyword">for</span> help.

     Command arguments <span class="token function">which</span> have embedded spaces may be quoted with quote `"' marks.

</code></pre>
<p>常用命令</p>
<pre class=" language-bash"><code class="language-bash"><span class="token operator">!</span>               delete          literal         prompt          send
?               debug           <span class="token function">ls</span>              put             status
append          <span class="token function">dir</span>             mdelete         <span class="token function">pwd</span>             trace
ascii           disconnect      mdir            quit            <span class="token function">type</span>
bell            get             mget            quote           user
binary          glob            <span class="token function">mkdir</span>           recv            verbose
bye             <span class="token function">hash</span>            mls             remotehelp
<span class="token function">cd</span>              <span class="token function">help</span>            mput            <span class="token function">rename</span>
close           lcd             <span class="token function">open</span>            <span class="token function">rmdir</span>
</code></pre>
<p>解释</p>
<pre class=" language-bash"><code class="language-bash">bye <span class="token comment" spellcheck="true"># 结束</span>
<span class="token function">cd</span>  <span class="token comment" spellcheck="true"># 进入</span>
<span class="token function">open</span> <span class="token comment" spellcheck="true"># 打开</span>
close <span class="token comment" spellcheck="true"># 关闭</span>
quote <span class="token comment" spellcheck="true"># 模式 PORT 或 PASV</span>
<span class="token comment" spellcheck="true"># 查看目录</span>
<span class="token function">ls</span>
<span class="token function">dir</span>

<span class="token function">help</span> <span class="token comment" spellcheck="true"># 帮助</span>
lcd <span class="token comment" spellcheck="true"># 本机目录</span>
<span class="token function">pwd</span> <span class="token comment" spellcheck="true"># FTP目录</span>

<span class="token function">rename</span> <span class="token comment" spellcheck="true"># 改名</span>
<span class="token function">mkdir</span> <span class="token comment" spellcheck="true"># 创建文件</span>
delete <span class="token comment" spellcheck="true"># 删除文件</span>
user <span class="token comment" spellcheck="true"># 登入某用户</span>
</code></pre>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">
                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Enomothem</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://enomothem.com/posts/d89b.html">http://enomothem.com/posts/d89b.html</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">Enomothem</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/FTP/">
                                    <span class="chip bg-color">FTP</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="https://test1.jsdelivr.net/gh/enomothem/cdn@1.5.0/sources/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="https://test1.jsdelivr.net/gh/enomothem/cdn@1.5.0/sources/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/posts/1e80.html">
                    <div class="card-image">
                        
                        
                        <img src="https://test1.jsdelivr.net/gh/enomothem/cdn@1.5.0/sources/medias/featureimages/2.jpg" class="responsive-img" alt="SecTools-查杀后门工具">
                        
                        <span class="card-title">SecTools-查杀后门工具</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2021-03-04
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/SecTools/" class="post-category">
                                    SecTools
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/chkrookit/">
                        <span class="chip bg-color">chkrookit</span>
                    </a>
                    
                    <a href="/tags/rkhunter/">
                        <span class="chip bg-color">rkhunter</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/posts/e7bf.html">
                    <div class="card-image">
                        
                        
                        <img src="https://test1.jsdelivr.net/gh/enomothem/cdn@1.5.0/sources/medias/featureimages/23.jpg" class="responsive-img" alt="Metasploit-Q&amp;A">
                        
                        <span class="card-title">Metasploit-Q&amp;A</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2021-02-28
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/" class="post-category">
                                    渗透测试
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Q-A/">
                        <span class="chip bg-color">Q&amp;A</span>
                    </a>
                    
                    <a href="/tags/Metasploit/">
                        <span class="chip bg-color">Metasploit</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('100')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround. 将 === PRE 改为CODE即可复制，解决换行问题
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'CODE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: 字星河<br />'
            + '文章作者: Enomothem<br />'
            + '文章链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="https://test1.jsdelivr.net/gh/enomothem/cdn@1.5.0/sources/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="https://test1.jsdelivr.net/gh/enomothem/cdn@1.5.0/sources/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="2457752542"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="https://test1.jsdelivr.net/gh/enomothem/cdn@1.5.0/sources/libs/aplayer/APlayer.min.js"></script>
<script src="https://fastly.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
			
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2018";
                    var startMonth = "6";
                    var startDate = "28";
                    var startHour = "0";
                    var startMinute = "0";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "站龄 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "站龄 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
			
			<br>
			
            Copyright&nbsp;&copy;
            
                <span id="year">2018-2023</span>
            
            <a href="/about" target="_blank">by&nbsp;Enomothem</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">307.2k</span>&nbsp;字
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                <i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
			
            <br>

            
			
            <span id="icp"><img src="/medias/icp.png" style="vertical-align: text-bottom;" />
                <a href="https://beian.miit.gov.cn/" target="_blank">赣ICP备2021004825号</a>
            </span>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/enomothem" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:enomothem@outlook.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>



    <a href="https://public.zsxq.com/groups/51288182112544.html" class="tooltipped" target="_blank" data-tooltip="关注我的Facebook: https://public.zsxq.com/groups/51288182112544.html" data-position="top" data-delay="50">
        <i class="fab fa-facebook-f"></i>
    </a>





    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=251051821" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 251051821" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="https://test1.jsdelivr.net/gh/enomothem/cdn@1.5.0/sources/libs/materialize/materialize.min.js"></script>
    <script src="https://test1.jsdelivr.net/gh/enomothem/cdn@1.5.0/sources/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="https://test1.jsdelivr.net/gh/enomothem/cdn@1.5.0/sources/libs/aos/aos.js"></script>
    <script src="https://test1.jsdelivr.net/gh/enomothem/cdn@1.5.0/sources/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="https://test1.jsdelivr.net/gh/enomothem/cdn@1.5.0/sources/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="https://test1.jsdelivr.net/gh/enomothem/cdn@1.5.0/sources/js/matery.js"></script>
    <!--动态线条背景-->
    <script type="text/javascript" color="122 103 238" opacity='0.7' zIndex="-2" count="200" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>

    <!-- Baidu Analytics -->

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?4c973a61bf86a8fd9f616477668e8c47";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="https://test1.jsdelivr.net/gh/enomothem/cdn@1.5.0/sources/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="https://test1.jsdelivr.net/gh/enomothem/cdn@1.5.0/sources/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    

    
    <script src="https://test1.jsdelivr.net/gh/enomothem/cdn@1.5.0/sources/libs/instantpage/instantpage.js" type="module"></script>
    
<!-- 雪花snow 樱花sakura -->
 <!--   <script src="/js/sakura.js"></script>  --><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>

</html>

